# seems i cannot use shipclass and have to use shipsize
# okay so _build_cost_ seems deprecated, simply use ship_x_cost_mult

# TODO, change all modifiers to only apply to military ships
# add AI weights, maybe a script to count ships
# weapon specialization
# defense specialization
# army specialization ?
# add ewp before all names X
# add newlines in localizations

ewp_weapon_doctrine = {
	potential = {
			OR = {
				is_country_type = default
				is_country_type = enclave_mercenary
			}
			# now how to make this tell you that you can pick something
			# disabling for now due to testing reasons, also might
			# have to pick a more appropriate tech
			# has_technology = tech_interstellar_fleet_traditions
	}

	option = {
		name = "ewp_no_weapon_focus"

		policy_flags = {}

		modifier = {
			shipclass_military_build_cost_mult = -0.05
			shipclass_military_build_speed_mult = 0.05
		}

		AI_weight = {
			weight = 1
		}
	}

	option = {
		name = "ewp_kinetic_focus"

		valid = {
			has_technology = tech_mass_drivers_3
		}

		policy_flags = {}

		modifier = {
			weapon_type_kinetic_weapon_damage_mult = 0.20
			category_propulsion_draw_chance_mult = 0.10

			weapon_type_energy_weapon_damage_mult = -0.20
			weapon_type_explosive_weapon_damage_mult = -0.20
			weapon_type_strike_craft_weapon_damage_mult = -0.20
		
		}
		AI_weight = {
			# should there be weight here idk
			weight = 1
			modifier = {
				factor = 2
				has_trait = trait_natural_engineers
			}
		}
	}

	option = {
		name = "ewp_energy_focus"

		valid = {
			has_technology = tech_lasers_3
		}

		policy_flags = {}

		# increase weapon range and accuracy to help
		# with artillery and picket role
		modifier = {
			weapon_type_energy_weapon_damage_mult = 0.20
			category_particles_draw_chance_mult = 0.10

			weapon_type_kinetic_weapon_damage_mult = -0.20
			weapon_type_explosive_weapon_damage_mult = -0.20
			weapon_type_strike_craft_weapon_damage_mult = -0.20
		}

		AI_weight = {
			weight = 1
			modifier = {
				factor = 2
				has_trait = trait_natural_physicists
			}
		}
	}

	option = {
		name = "ewp_explosive_focus"

		valid = {
			has_technology = tech_missiles_3
		}

		policy_flags = {}

		# cost efficiency is the name of the game
		modifier = {
			weapon_type_explosive_weapon_damage_mult = 0.20
			category_propulsion_draw_chance_mult = 0.10

			weapon_type_energy_weapon_damage_mult = -0.20
			weapon_type_kinetic_weapon_damage_mult = -0.20
			weapon_type_strike_craft_weapon_damage_mult = -0.20
		}

		AI_weight = {
			weight = 1
			modifier = {
				factor = 2
				has_trait = trait_natural_engineers
			}
		}
	}

	# accuracy, long range
	option = {
		name = "ewp_carrier_focus"

		valid = {
			has_technology = tech_strike_craft_1
		}

		policy_flags = {}

		modifier = {
			weapon_type_strike_craft_weapon_damage_mult = 0.20
			weapon_type_strike_craft_speed_mult = 0.20
			
			category_voidcraft_draw_chance_mult = 0.15

			weapon_type_energy_weapon_damage_mult = -0.10
			weapon_type_explosive_weapon_damage_mult = -0.10
			weapon_type_kinetic_weapon_damage_mult = -0.10
		}

		# too specific, will code it in later so AI doesnt use this
		# in midgame before battleships
		AI_weight = {
			weight = 0
		}
	}

}